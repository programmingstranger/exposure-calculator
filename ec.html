<!DOCTYPE html>
<html lang="en" class=" dxfvh idc0_350"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exposure Calculator</title>
    <link href="ec_files/css2.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Encode Sans', sans-serif;
            background-color: white;
            color: black;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        label {
            margin: 0.5rem 0 0.2rem;
        }

        input,
        select {
            margin-bottom: 1rem;
            padding: 0.4rem;
            width: 150px;
            font-size: 1rem;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            justify-content: center;
        }

        .column {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 {
            margin-bottom: 1rem;
        }

        button {
            font-size: 1rem;
            padding: 0.4rem 0.8rem;
            margin: 0.5rem;
            border-radius: 8px;
            border: 1px solid #ccc;
            background-color: #f0f0f0;
            cursor: pointer;
        }

        button:hover {
            background-color: #e0e0e0;
        }

        .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>

<body>
    <h1>Exposure Calculator</h1>

    <div class="container">
        <div class="column">
            <h2>Original Exposure</h2>
            <label for="shutter-original">Shutter Speed</label>
            <select id="shutter-original">
                <option value="0.000125">1/8000</option>
                <option value="0.00025">1/4000</option>
                <option value="0.0005">1/2000</option>
                <option value="0.001">1/1000</option>
                <option value="0.002">1/500</option>
                <option value="0.004" selected="selected">1/250</option>
                <option value="0.008">1/125</option>
                <option value="0.016">1/60</option>
                <option value="0.033">1/30</option>
                <option value="0.066">1/15</option>
                <option value="0.125">1/8</option>
                <option value="0.25">1/4</option>
                <option value="0.5">1/2</option>
                <option value="1">1"</option>
                <option value="2">2"</option>
                <option value="4">4"</option>
                <option value="8">8"</option>
                <option value="15">15"</option>
                <option value="30">30"</option>
                <option value="60">1 min</option>
                <option value="120">2 min</option>
                <option value="240">4 min</option>
                <option value="480">8 min</option>
                <option value="960">16 min</option>
                <option value="1920">32 min</option>
                <option value="3840">1 hour</option>
            </select>

            <label for="fstop-original">F-Stop (f/)</label>
            <select id="fstop-original"><option value="1">1</option><option value="1.1">1.1</option><option value="1.2">1.2</option><option value="1.4">1.4</option><option value="1.6">1.6</option><option value="1.8">1.8</option><option value="2">2</option><option value="2.2">2.2</option><option value="2.5">2.5</option><option value="2.8" selected="selected">2.8</option><option value="3.2">3.2</option><option value="3.5">3.5</option><option value="4">4</option><option value="4.5">4.5</option><option value="5">5</option><option value="5.6">5.6</option><option value="6.3">6.3</option><option value="7.1">7.1</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="13">13</option><option value="14">14</option><option value="16">16</option><option value="18">18</option><option value="20">20</option><option value="22">22</option><option value="25">25</option><option value="28">28</option><option value="32">32</option></select>

            <label for="iso-original">ISO</label>
            <input type="number" id="iso-original" step="1" value="100">

            <p id="ev-info">EV (ISO 100): 10.94</p>
            <div class="button-container">
                <button id="reset-btn">Reset</button>
            </div>
        </div>

        <div class="column">
            <h2>Adjust Shutter Speed</h2>
            <label for="shutter-new">Shutter Speed</label>
            <input type="text" id="shutter-new" readonly="readonly">

            <label for="fstop-new-shutter">F-Stop (f/)</label>
            <select id="fstop-new-shutter"><option value="1">1</option><option value="1.1">1.1</option><option value="1.2">1.2</option><option value="1.4">1.4</option><option value="1.6">1.6</option><option value="1.8">1.8</option><option value="2">2</option><option value="2.2">2.2</option><option value="2.5">2.5</option><option value="2.8" selected="selected">2.8</option><option value="3.2">3.2</option><option value="3.5">3.5</option><option value="4">4</option><option value="4.5">4.5</option><option value="5">5</option><option value="5.6">5.6</option><option value="6.3">6.3</option><option value="7.1">7.1</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="13">13</option><option value="14">14</option><option value="16">16</option><option value="18">18</option><option value="20">20</option><option value="22">22</option><option value="25">25</option><option value="28">28</option><option value="32">32</option></select>

            <label for="iso-new-shutter">ISO</label>
            <input type="number" id="iso-new-shutter" step="1" value="100">

            <div class="button-container">
                <button id="calculate-shutter-btn">Calculate Shutter Speed</button>
            </div>
        </div>

        <div class="column">
            <h2>Adjust F-Stop</h2>
            <label for="shutter-new-fstop">Shutter Speed</label>
            <select id="shutter-new-fstop">
                <option value="0.000125">1/8000</option>
                <option value="0.00025">1/4000</option>
                <option value="0.0005">1/2000</option>
                <option value="0.001">1/1000</option>
                <option value="0.002">1/500</option>
                <option value="0.004" selected="selected">1/250</option>
                <option value="0.008">1/125</option>
                <option value="0.016">1/60</option>
                <option value="0.033">1/30</option>
                <option value="0.066">1/15</option>
                <option value="0.125">1/8</option>
                <option value="0.25">1/4</option>
                <option value="0.5">1/2</option>
                <option value="1">1"</option>
                <option value="2">2"</option>
                <option value="4">4"</option>
                <option value="8">8"</option>
                <option value="15">15"</option>
                <option value="30">30"</option>
                <option value="60">1 min</option>
                <option value="120">2 min</option>
                <option value="240">4 min</option>
                <option value="480">8 min</option>
                <option value="960">16 min</option>
                <option value="1920">32 min</option>
                <option value="3840">1 hour</option>
            </select>

            <label for="fstop-new-fstop">F-Stop (f/)</label>
            <input type="text" id="fstop-new-fstop" readonly="readonly">

            <label for="iso-new-fstop">ISO</label>
            <input type="number" id="iso-new-fstop" step="1" value="100">

            <div class="button-container">
                <button id="calculate-fstop-btn">Calculate F-Stop</button>
            </div>
        </div>
        <div class="column">
            <h2>Adjust ISO</h2>
            <label for="shutter-new-iso">Shutter Speed</label>
            <select id="shutter-new-iso">
                <option value="0.000125">1/8000</option>
                <option value="0.00025">1/4000</option>
                <option value="0.0005">1/2000</option>
                <option value="0.001">1/1000</option>
                <option value="0.002">1/500</option>
                <option value="0.004" selected="selected">1/250</option>
                <option value="0.008">1/125</option>
                <option value="0.016">1/60</option>
                <option value="0.033">1/30</option>
                <option value="0.066">1/15</option>
                <option value="0.125">1/8</option>
                <option value="0.25">1/4</option>
                <option value="0.5">1/2</option>
                <option value="1">1"</option>
                <option value="2">2"</option>
                <option value="4">4"</option>
                <option value="8">8"</option>
                <option value="15">15"</option>
                <option value="30">30"</option>
                <option value="60">1 min</option>
                <option value="120">2 min</option>
                <option value="240">4 min</option>
                <option value="480">8 min</option>
                <option value="960">16 min</option>
                <option value="1920">32 min</option>
                <option value="3840">1 hour</option>
            </select>

            <label for="fstop-new-iso">F-Stop (f/)</label>
            <select id="fstop-new-iso"><option value="1">1</option><option value="1.1">1.1</option><option value="1.2">1.2</option><option value="1.4">1.4</option><option value="1.6">1.6</option><option value="1.8">1.8</option><option value="2">2</option><option value="2.2">2.2</option><option value="2.5">2.5</option><option value="2.8" selected="selected">2.8</option><option value="3.2">3.2</option><option value="3.5">3.5</option><option value="4">4</option><option value="4.5">4.5</option><option value="5">5</option><option value="5.6">5.6</option><option value="6.3">6.3</option><option value="7.1">7.1</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="13">13</option><option value="14">14</option><option value="16">16</option><option value="18">18</option><option value="20">20</option><option value="22">22</option><option value="25">25</option><option value="28">28</option><option value="32">32</option></select>

            <label for="iso-new-iso">ISO</label>
            <input type="text" id="iso-new-iso" readonly="readonly">

            <div class="button-container">
                <button id="calculate-iso-btn">Calculate ISO</button>
            </div>
        </div>
    </div>

<!-- Add this right before </body> -->
<footer style="
    text-align: center;
    padding: 20px 0;
    margin-top: 30px;
    border-top: 1px solid #eee;
    font-family: 'Encode Sans', sans-serif;
    font-size: 14px;
    color: #666;
">
    <div style="margin-bottom: 8px;">
        <a href="mailto:mail@jasonharrell.de" style="color: #666; text-decoration: none;">
            mail@jasonharrell.de
        </a>
    </div>
    <div style="margin-bottom: 8px;">
        <a href="https://instagram.com/jasonharrellphoto" target="_blank" style="color: #666; text-decoration: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 4px;">
                <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.044v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>
            </svg>
            @jasonharrellphoto
        </a>
    </div>
    <div>
        Â© Jason Harrell 2025 | v1.0
    </div>
</footer>
    <script>
     const standardShutterSpeeds = [
        1 / 8000, 1 / 4000, 1 / 2000, 1 / 1000, 1 / 500, 1 / 250, 1 / 125, 1 / 60, 1 / 30, 1 / 15, 1 / 8, 1 / 4, 1 / 2, 1
    ];

    const halfStops = [
        1, 1.1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.5, 2.8, 3.2, 3.5, 4, 4.5, 5, 5.6, 6.3, 7.1, 8, 9, 10, 11, 13, 14, 16, 18, 20, 22, 25, 28, 32
    ];

    function calculateEV(shutter, fstop) {
        return Math.log2((fstop * fstop) / shutter);
    }

    function updateEVDisplay() {
        const shutterOrig = parseFloat(document.getElementById('shutter-original').value);
        const fstopOrig = parseFloat(document.getElementById('fstop-original').value);
        if (!isNaN(shutterOrig) && !isNaN(fstopOrig) && shutterOrig > 0 && fstopOrig > 0) {
            const EV = calculateEV(shutterOrig, fstopOrig);
            document.getElementById('ev-info').textContent = `EV (ISO 100): ${EV.toFixed(2)}`;
        } else {
            document.getElementById('ev-info').textContent = `EV (ISO 100): --`;
        }
    }

    function formatShutterSpeed(value) {
        if (value < 1) {
            // Find the closest standard shutter speed
            let closest = standardShutterSpeeds.reduce((prev, curr) => Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev);
            return `1/${Math.round(1 / closest)}`;
        } else if (value < 60) {
            return `${Math.round(value)} s`;
        } else {
            const minutes = Math.floor(value / 60);
            const seconds = Math.round(value % 60);
            return `${minutes}' ${seconds}"`;
        }
    }

    function formatFStop(value) {
        let closest = halfStops.reduce((prev, curr) => Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev);
        return closest.toFixed(1);
    }

    function calculateShutterSpeed() {
        const shutterOrig = parseFloat(document.getElementById('shutter-original').value);
        const fstopOrig = parseFloat(document.getElementById('fstop-original').value);
        const isoOrig = parseFloat(document.getElementById('iso-original').value);
        const EV = calculateEV(shutterOrig, fstopOrig);

        const isoNew = parseFloat(document.getElementById('iso-new-shutter').value);
        const fstopNew = parseFloat(document.getElementById('fstop-new-shutter').value);

        if (!isNaN(isoNew) && isoNew > 0 && !isNaN(fstopNew) && fstopNew > 0) {
            const shutterNew = (fstopNew * fstopNew * isoOrig) / (isoNew * Math.pow(2, EV));
            document.getElementById('shutter-new').value = formatShutterSpeed(shutterNew);
        } else {
            document.getElementById('shutter-new').value = "";
        }
    }

    function calculateFStop() {
        const shutterOrig = parseFloat(document.getElementById('shutter-original').value);
        const fstopOrig = parseFloat(document.getElementById('fstop-original').value);
        const isoOrig = parseFloat(document.getElementById('iso-original').value);
        const EV = calculateEV(shutterOrig, fstopOrig);

        const isoNew = parseFloat(document.getElementById('iso-new-fstop').value);
        const shutterNew = parseFloat(document.getElementById('shutter-new-fstop').value);

        if (!isNaN(isoNew) && isoNew > 0 && !isNaN(shutterNew) && shutterNew > 0) {
            const fstopNew = Math.sqrt((shutterNew * isoNew * Math.pow(2, EV)) / isoOrig);
            document.getElementById('fstop-new-fstop').value = formatFStop(fstopNew);
        } else {
            document.getElementById('fstop-new-fstop').value = "";
        }
    }

    function calculateISO() {
        const shutterOrig = parseFloat(document.getElementById('shutter-original').value);
        const fstopOrig = parseFloat(document.getElementById('fstop-original').value);
        const isoOrig = parseFloat(document.getElementById('iso-original').value);
        const EV = calculateEV(shutterOrig, fstopOrig);

        const shutterNew = parseFloat(document.getElementById('shutter-new-iso').value);
        const fstopNew = parseFloat(document.getElementById('fstop-new-iso').value);

        if (!isNaN(shutterNew) && shutterNew > 0 && !isNaN(fstopNew) && fstopNew > 0) {
            let isoNew = (isoOrig * (fstopNew * fstopNew / shutterNew)) / (fstopOrig * fstopOrig / shutterOrig);
            isoNew = roundToNearestHalfStop(isoNew);
            document.getElementById('iso-new-iso').value = isoNew;
        } else {
            document.getElementById('iso-new-iso').value = "";
        }
    }

    function roundToNearestHalfStop(value) {
        const isoHalfStops = [
            25, 32, 40, 50, 64, 80, 100, 125, 160, 200, 250, 320, 400, 500, 640, 800, 1000, 1250, 1600, 2000, 2500, 3200, 4000, 5000, 6400, 8000, 10000, 12500, 16000, 20000, 25000, 32000, 40000, 50000, 64000, 80000, 100000, 125000, 160000, 200000, 250000, 320000, 400000, 500000, 640000, 800000, 1000000, 1250000, 1600000, 2000000, 2500000, 3200000, 4000000, 5000000, 6400000, 8000000, 10000000
        ];
        let closest = isoHalfStops.reduce((prev, curr) => Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev);
        return closest;
    }


    document.getElementById('calculate-shutter-btn').addEventListener('click', calculateShutterSpeed);
    document.getElementById('calculate-fstop-btn').addEventListener('click', calculateFStop);
    document.getElementById('calculate-iso-btn').addEventListener('click', calculateISO);

    document.getElementById('reset-btn').addEventListener('click', function() {
        // Reset Original Exposure
        document.getElementById('shutter-original').value = "0.004"; // 1/250 sec
        document.getElementById('fstop-original').value = "2.8";
        document.getElementById('iso-original').value = "100";

        // Reset Adjust Shutter Speed
        document.getElementById('shutter-new').value = "";
        document.getElementById('fstop-new-shutter').value = "2.8";
        document.getElementById('iso-new-shutter').value = "100";

        // Reset Adjust F-Stop
        document.getElementById('shutter-new-fstop').value = "0.004"; // 1/250
        document.getElementById('fstop-new-fstop').value = "";
        document.getElementById('iso-new-fstop').value = "100";

        // Reset Adjust ISO
        document.getElementById('shutter-new-iso').value = "0.004"; // 1/250
        document.getElementById('fstop-new-iso').value = "2.8";
        document.getElementById('iso-new-iso').value = "";

        updateEVDisplay(); // Update the EV display after resetting the values
    });

    // Update EV display when original exposure values change
    document.getElementById('shutter-original').addEventListener('input', updateEVDisplay);
    document.getElementById('fstop-original').addEventListener('input', updateEVDisplay);
    document.getElementById('iso-original').addEventListener('input', updateEVDisplay);

    // Populate f-stop dropdowns with half-stop increments
    document.querySelectorAll('select[id^="fstop"]').forEach(select => {
        select.innerHTML = halfStops.map(fstop => `<option value="${fstop}">${fstop}</option>`).join('');
    });

    // Set initial default values
    document.getElementById('fstop-new-shutter').value = "2.8";
    document.getElementById('iso-new-shutter').value = "100";
    document.getElementById('shutter-new-fstop').value = "0.004"; // Equivalent to 1/250
    document.getElementById('iso-new-fstop').value = "100";
    document.getElementById('shutter-new-iso').value = "0.004"; // Equivalent to 1/250
    document.getElementById('fstop-new-iso').value = "2.8";

    // Set initial default values for the original exposure
    document.getElementById('shutter-original').value = "0.004"; // 1/250 sec
    document.getElementById('fstop-original').value = "2.8";
    document.getElementById('iso-original').value = "100";

    updateEVDisplay();
</script>
    

</body></html>
